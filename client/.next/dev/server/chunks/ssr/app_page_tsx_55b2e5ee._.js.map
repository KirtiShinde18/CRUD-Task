{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirtishinde/Desktop/SkillHub/fullstack/crud-todo-task/client/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useAddTodoMutation, useDeleteTodoMutation, useGetTodosQuery, useUpdateTodoMutation } from '@/redux/apis/todo.api'\nimport { Todo } from '@/types/Todo'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport React, { useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useForm } from 'react-hook-form'\nimport { toast } from 'react-toastify'\nimport z from 'zod'\n\nconst Home = () => {\n  const {data} = useGetTodosQuery()\n  const [todoData, setTodoData] = useState<Todo>({ task: \"\", desc: \"\", priority: \"\"})\n\n  const [addTodo] = useAddTodoMutation()\n  const [updateTodo] = useUpdateTodoMutation()\n  const [deleteTodo] = useDeleteTodoMutation()\n\n  const todoSchema = z.object({\n    task: z.string().min(1),\n    desc: z.string().min(1),\n    priority: z.string().min(1),\n  })\n\n  type todoType = z.infer<typeof todoSchema>\n\n  const {reset, register, handleSubmit, formState: {errors}} = useForm({\n    defaultValues:{\n      task: \"\",\n      desc: \"\",\n      priority: \"\",\n    },\n    resolver: zodResolver(todoSchema)\n  })\n\n  const handleCreate = (values: todoType) => {\n    handleAdd(values);\n    reset()\n    \n  }\n\n  const handleAdd = async(data: todoType)=> {\n    try {\n      await addTodo(data).unwrap()\n      // console.log(\"todo create success\");\n      toast.success(\"Todo created success\")\n      \n    } catch (error) {\n      console.log(error);\n      toast.error(\"unable to create todo\")\n    }\n  }\n  \n  //update\n  const handleUpdate = async(todoData: Todo)=> {\n    try {\n      await updateTodo(todoData).unwrap()\n      // console.log(\"todo update success\");\n      toast.success(\"Todo update success\")\n      \n    } catch (error) {\n      console.log(error);\n      toast.error(\"unable to update Todo\")\n    }\n  }\n\n  //delete\n  const handleDelete = async(_id: string)=> {\n    try {\n      await deleteTodo(_id).unwrap()\n      toast.success(\"Todo delete success\")\n      \n    } catch (error) {\n      console.log(error);\n      toast.error(\"unable to delete Todo\")\n    }\n  }\n\n  return <>\n  \n  <div className=\"container my-5\">\n    <div className=\"row\">\n        <div className=\"col-sm-6 offset-sm-3\">\n            <div className=\"card\">\n              <div className=\"card-header alert alert-warning\">\n                <h1>TODO CRUD TASK ðŸ“š</h1>\n              </div>\n              <div className=\"card-body\">\n\n                <form onSubmit={handleSubmit(handleCreate)}>\n\n                  <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                      <input {...register(\"task\")} className='form-control my-3' type=\"text\" placeholder='task'/>\n                    </div>\n  \n                    <div className=\"col-sm-6\">\n                      <input {...register(\"desc\")} className='form-control my-3' type=\"text\" placeholder='desc'/>\n                    </div>\n                  </div>\n\n                  <select {...register(\"priority\")} className='form-control mb-3'>\n                    <option value=\"\">Choose Priority</option>\n                    <option value=\"high\">High</option>\n                    <option value=\"medium\">medium</option>\n                    <option value=\"low\">low</option>\n                  </select>\n\n                   <button type=\"submit\" className=\"btn btn-primary w-full\">Create Task</button>\n\n                </form>\n\n              </div>\n            </div>\n        </div>\n    </div>\n    </div>\n\n  <div className=\"container my-3\">\n    <table className=\"table table-light table-striped table-hover\">\n    <thead>\n      <tr>\n        <th>id</th>\n        <th>title</th>\n        <th>desc</th>\n        <th>priority</th>\n        <th>complete</th>\n        <th>actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      {\n        data && data.map(item => <tr key={item._id}>\n          <td>{item._id}</td>\n          <td>{item.task}</td>\n          <td>{item.desc}</td>\n          <td>{item.priority}</td>\n          <td>\n            {item.complete ? \"Completed\" : \"Incompleted\"}\n          </td>\n          <td>\n            {\n              item.complete\n              ? <Button onClick={e => handleUpdate({...item, complete: false})} variant='warning' >Mark Incompleted</Button>\n              : <Button onClick={e => handleUpdate({...item, complete: true})} variant='success' >completed</Button>\n            }\n            <Button onClick={e => handleDelete(item._id as string)} variant='danger'  className=\"m-3\" >Delete</Button>\n          </td>\n        </tr> )\n      }\n    </tbody>\n  </table>\n  </div>\n\n  </>\n}\n\nexport default Home"],"names":[],"mappings":"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"}}]
}